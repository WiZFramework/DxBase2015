<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="css/main.css" rel="stylesheet" type="text/css">
<title>DxBase2015ドキュメント(2015年)</title>
</head>
<body>
<!-- 全体コンテナ　-->
<div id="container">
<div id="header">
<h2>０．DxBase2015概要</h2>
</div>
<!-- コンテンツ　-->
<div id="contents">
<h3>０００．DxBase2015について</h3>
　本ドキュメントは、福島県郡山市にあります<b>WiZ（国際情報工科大学校）C++ゲームプログラミング</b>において使用される、<b>DxBase2015フレームワーク</b>に関するドキュメントです。<br />
<br />
<b><a href="http://www.wiz.ac.jp/index.html" target="_blank">WiZ（国際情報工科大学校）ホームページ</a></b><br />
<br />
　<b>DxBase2015並びに本ドキュメント</b>は、以下の指針に基づいて作成されています。<br />
　<b>DxBase2015フレームワーク</b>は、<b>C++授業の延長線</b>に置かれるフレームワークであり、<b>基本的に学生時代の作品制作</b>に使用されることを前提に作成されています。<br />
　商用目的の利用も、部分的完全版問わず可能ですが、教育用が基本にあるため、例外throwの表示など、商用には向かない機能が内蔵されています。その場合は、このページの最後の<b>商業利用について</b>の欄をお読みください。<br />
<ul class="decimal">
<li>C++11文法に乗っ取った記述スタイルとなっています。C言語的に代替えできる、もしくはそのほうがシンプルであるとしても、あえてC++11的記述にしてあります。</li>
<li>フレームワーク全体を<b>basedx11</b>という<b>namespace内</b>に収めています。</li>
<li><b>WinaMain()</b>を含め、<b>例外処理</b>を階層的に記述しています。そのため、関数の戻り値のエラー等は例外発生<b>throw</b>によって処理されます。</li>
<li>例外はほとんどのケースで強制終了を意味します。（復帰を試みない）。これはゲームのフレームワークであるという性質上、致し方がない処理と考えます。プログラマは例外が発生しないように記述すべきです。あるいは、分岐に例外を使用する場合は、各個人の管理の中でローカル的に処理されるべきです、その場合、<b>catchの記述</b>も各個人で行います。</li>
<li>例外発生によって<b>throw</b>されるのは、<b>エラー内容および発生個所（関数名）</b>です。このことは、<b>発生原因</b>を調べるのに役立つと思われます。もし商業利用等で、関数名などの表示が思わしくない場合、<b>WinMain.cpp</b>にcatchした例外のメッセージ表示の記述がありますので、そこを修正ください。<b>WinMain.cpp</b>はフレームワーク外にあります。</li>
<li><b>#define</b>はできるだけ使用しません。<b>テンプレートもしくはconst変数（定数）</b>など、C++11文法を使用しています。</li>
<li><b>goto文</b>は使用しません。</li>
<li><b>グローバル関数</b>はできるだけ使用しません。どうしても必要な場合は、<b>テンプレートにするか、構造体、クラス内に含め、static関数</b>とします。ただし、<b>WinMain()関数と、ウインドウプロシージャ、あるいはコールバック関数</b>は例外です。</li>
<li><b>グローバル変数</b>は、できるだけ使用しません。クラス内に収めるようにします。</li>
<li><b>STL</b>を使用しています。主に多用しているのは、<b>スマートポインタ、vector、wstring</b>などです。<b>スマートポインタ</b>の登場にともない、もともとのポインタは<b>生ポインタ</b>と表記することがあります。</li>
<li><b>UNICODE環境</b>で作成されます。しかし、Microsoftの<b>_T()</b>で記述される、環境による文字列の自動変換機能は使用しません。基本的に<b>wstringまたはwchar_t*</b>を使用し、<b>データ等がマルチバイト</b>の場合は意識的に<b>string、char*</b>を使用しています。</li>
<li>メモリの取得は<b>スマートポインタの仕様に沿って</b>記述されます。<b>自作のmalloc関数</b>や、<b>operator new</b>などを使用してメモリを管理するテクニックは使用ません。これは<b>C++11の学習を基本に置く</b>という前提によります。仕事現場では、環境の違いにより、場合によっては必須になるかもしれないそういったテクニックは、専門学校における基礎理解の範疇を超えると考えます。</li>
<li>同様の理由で、<b>仮想関数</b>を多用しています。現場によっては、たとえば仮想関数を使わずに記述を求められる場合もあると思われますが、仮想関数の仕組みを理解するということは、<b>オブジェクト指向</b>の理解を深めるのに役立ちます。これらの知識は、将来、もしC++以外の開発を行う場合（Java、C#、PHPなどなど）の基礎的知識となります。</li>
<li>template</b>を多用しています。</li>
</ul>
<br/>
<h4>動作・開発環境</h4>
<ul class="decimal">
<li>ゲームエンジンに<b>DirectX11</b>を使用し、<b>VisualStdio2013（VisualC++）</b>により作成されます。OSは<b>Windows8.1以降</b>で動作します。<b>シェーダーバージョンは5.0</b>です。</li>
</ul>
<br />
<h4>表記規則</h4>
　表記規則には、厳密ではありませんが、以下の規則にしたがいます。
<ul class="decimal">
<li>クラス内メンバ変数は、<b>m_</b>で始まる記述にします。（例: m_Size）</li>
<li>変数に型識別は生ポインタについては<b>p</b>をつけます（例: m_pName）。しかし、C++11となり、ソース内には生ポインタはほとんど出てきません。</li>
<li>スマートポインタについては、特別の表記規則はありません（メンバの場合はm_をつける、は上記同様）。これはスマートポインタが、自動的に破棄されるため、<b>newで取得したポインタは必ずdeleteしなけらばならない</b>という生ポインタのような制約がないためです（つまり、そんなに意識する必要がない）。また、<b>auto</b>を使うことにより、暗黙の型の変数を作成できます。だんだん<b>型</b>という概念が、ソース上から見えなくなっている（見えなくなるが、存在はしている）ので、表記規則もそれに合わせています。</li>
<li>関数の命名規則は特にはありませんが、アクセサ（あるいはこれに類するもの）は、<b>GetまたはSet</b>をつけています。bool型のGetアクセサは<b>Is</b>で始まるバージョンも用意してあることが多いです。</li>
</ul>
<br/>
<h4>記述スタイル</h4>
　　１、クラスの<b>メンバ初期化</b>は、<b>メンバイニシャライザ</b>をできるだけ使用します。実際の初期化は、スマートポインタの登場に伴い、<b>Create仮想関数</b>による<b>２段階構築</b>になることが多くなります。ただしその場合でも、エラー処理は<b>例外処理</b>を使用します。<br />
　　２、クラス内のアクセス制限は、<b>privateまたはpublicが多くなり、protectedはごく少数</b>になりました。これはデータメンバーは派生クラスでも基本的にアクセッサを介して行う、という原則にしたものです。<b>protected</b>は、たとえば派生クラスからのみインスタンスを作成できる（プロテクトコンストラクタ）などに使用しています。<br />
　　３、1行のみのループであっても<b>{ }</b>で囲みます。<br />
　　例：<br />
<div class="box1">
<pre>
int a = 0;
for(int i = 1;i &lt;= 10;i++)
    a += i;
</pre>
</div>
　　は
<div class="box1">
<pre>
int a = 0;
for(int i = 1;i &lt;= 10;i++){
    a += i;
}
</pre>
</div>
　　と記述すします。<br />
　　４、<b>生ポインタおよびリファレンス（参照）</b>は
<div class="box1">
<pre>
wchar_t* pName;

void Function(const wstring& str){
    //...
}
</pre>
</div>
　のように、<b>左側</b>につける形で記述する。これは、<b>プログラミング言語C++（Stroustrup著）</b>の記述スタイルに基づきます。<br />
<br />
<h4>著作権</h4>
<ul class="decimal">
<li><b>DxBase2015並びに本ドキュメントの著作権</b>は<b>WiZ（国際情報工科大学校）</b>に属します。以下に述べる個所はMicrosoft等、ほかの団体の規約に従います。</li>
<li>タイマーおよびシェーダーに、DirectXTK、DirectXTex、DirectXサンプルのソースをそのままもしくは改変し使用しています。そのため、それらのソースはMicrosoftサンプルソース使用の条件に従います。（それらはマイクロソフトパブリックライセンス、「Microsoft Public License (Ms-PL)」です）</li>
<li>SpriteStdioの読み込みは、<b>SpriteStudio5-SDK</b>のソースを参考に作成しました。この部分はSpriteStdioSDKの利用規約に基づきます。</li>
<li>モデルはFBXを利用しています。FBXのヘッダ及びライブラリはLibsディレクトリに保存されています。</li>
<li>ライブラリの一部に、各書籍に記述されているアルゴリズムを参考に記載された箇所が含まれます。それらは、各書籍に転載自由と記載されているものに限られ、また、書籍中コードをそのまま使用しているものではなく、必ず、環境に合うよう、カスタマイズされています、</li>
<li>学生が在学中、あるいは卒業後、ライブラリソースを、フリーソフト、業務等含め<b>直接使用</b>することもできます。その際は、GNUオープンソースライセンスに基づきます。その場合でも、このライブラリで利用している、他ツールなどは、各ライセンス規約に基づきますので、必要であれば、各社各団体への連絡は各自お願いします。<br />
　また、「DxBase2015」を使用したことによる不具合等は、当方は関知しません。各自責任の上で再利用することとします。</li>
</ul>
<h4>教育機関での利用及び商業利用について</h4>
<ul class="decimal">
<li><b>教育機関での利用</b>、あるいは卒業生でなくても、<b>商業利用はご自由</b>ですが、以下の制限があります。</li>
<li>フレームワークの不具合、矛盾点などがあり、それにより利用者が損害を受けても、当方は一切責任はありません。各社各自各々の責任においてご利用ください。</li>
<li>「DxBase2015」はGNUオープンソースライセンスに基づきます。その場合でも、このライブラリで利用している、他ツールなどは、各ライセンス規約に基づきますので、各社各団体向けのライセンス処理は各自お願いします。</li>
<li>実行ファイルのみを公開・販売するのは自由ですが、その場合でも、「DxBase2015」を使用している旨を記述して下さい。「DxBase2015」はオープンソースなので、購入者等の皆様へ、<b>「DxBase2015」GitHubサイト</b>をご案内ください。</li>
<li>個別の問い合わせにはお答えかねます。もし、利用方法などで疑問点がある場合は、紹介サイト等をご利用ください。必ずではありませんが、お答えできる範囲でお答えします。</li>
<li>フレームワーク使用方法、個別指導などをご希望の方は、直接問い合わせください。</li>
</ul>
<h4>謝辞</h4>
　DxBase2015」は多くの方々の協力がなければここまで進化しえませんでした。<br />
　最初に、あまり使いやすいと言えない時代から、ゲーム作成に利用してくれた学生達諸君。すでに卒業して業界に就職した諸君も多いですが、本当に根気よく学習、そして実習に参加してくれました。<br />
　また、フレームワークで使用させていただいてます、SpriteStdioの株式会社ウェブテクノロジ様。FBXSDKを提供されてます、オートデスク株式会社(Autodesk, Inc.)様、そして、DirectXツールキットやDirectXTX、何よりもDirectX本体、VisualStdioを提供していただいてますMicrosoft様、皆様のツールやライブラリ、エンジン、コンパイラは、まさに夢の世界への切符と言えます。本当にありがとうございます。<br />
<br />
　最後になりましたが、WiZゲーム科の田村先生はじめ先生方。授業でオリジナルなフレームワークの使用することへの深いご理解、ありがとうございます。先生がたのご理解なしには、このフレームワークは、スタートすら切れませんでした。<br />
<br />
　それでは、「DxBase2015」が皆様のお役に立ちますよう、こころから願っています。</br >
<div class="right">2015年夏　山ノ井　靖（WiZゲーム科非常勤講師：C++担当）</div>

<br />
</div>
<!-- /コンテンツ　-->

<hr>
<!-- フッタ　-->
<ul class="foot_navi">
<li><a href="setup.html">前ページ</a></li>
<li><a href="index.html">目次</a></li>
<li><a href="00_01.html">次ページ</a></li>
</ul>
<!-- /フッタ　-->


</div>
<!-- /全体コンテナ　-->
</body>
</html>
