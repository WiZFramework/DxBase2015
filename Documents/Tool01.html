<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Trからのぷろansitional//EN">
<html lang="ja">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="css/main.css" rel="stylesheet" type="text/css">
<title>DxBase2015ドキュメント(2015年)</title>
</head>
<body>
<!-- 全体コンテナ　-->
<div id="container">
<div id="header">
<h2>ツール</h2>
</div>
<!-- コンテンツ　-->
<div id="contents">
<br/>
<h3>Tool01．FBXを独自のバイナリデータに変換する</h3>
<br />
<h4>ツールの必要性について考えてみよう</h4>
　<b>BaseDx2015(フルバージョン)</b>には、FBX_SDKを利用したモデルの読み込みなどはじめ、これまで紹介してきたいろんな機能が含まれます。<br />
　しかし、それらの機能は、往々にして大きなライブラリになりがちなため、最小限のライブラリとして<b>シンプルバージョン</b>も用意しています。<br />
　<b>シンプルバージョン</b>は、FBX_SDKも内蔵されていません。しかし、３Ｄゲーム制作にはモデルの描画は、必須といってもいいでしょう。<br />
　そこで、<b>シンプルバージョン用</b>として、<b>FBXファイルから、独自のフォーマットのデータを作成するツール</b>を作成しました。<br />
　今回紹介するツールは、ツールとして最小限のことしか行いません。もし多機能なツールが必要であれば、今項で紹介するツールをカスタマイズして、独自のツールに進化させるとよいでしょう。<br />
<br />
<h4>Fbx2Binについて</h4>
　<b>Tool01ディレクトリ</b>には、この項で紹介する<b>Fbx2Bin</b>が含まれます。<br />
　まず、起動する前に、何か、テスト用のFBXファイルを用意してください。<br />
　<b>Sample308</b>で紹介した、<b>Chara_R.fbxやChara_B.fbx</b>でも構いません。このFBXファイルを、テクスチャ画像も含まれるディレクトリごと、<b>Tool01ディレクトリ</b>の<b>mediaディレクトリ</b>に保存してください。<br />
　また、あらかじめ断っておきますが、今回紹介するツールは<b>スキンメッシュ</b>には対応してません。アニメーション付のFBXを読み込んでも、<b>スタティックメッシュ</b>として処理されます。<br/>
　もし<b>スキンメッシュ</b>用のツールが必要であれば、各自カスタマイズするとよいでしょう。（スキンメッシュの技術は、難解ではありますが、マスターすれば強力なスキルになります）。<br />
<br/>
　<b>mediaディレクトリ</b>にFBXファイルを配置したら、<b>Fbx2Bin</b>を起動してみましょう。<br />
　今回のツールは<b>MFC</b>を使用していますので、<b>VisualStdio2013</b>は<b>Community以上</b>でないと起動しませんので注意してください。<br />
　起動すると以下の画面になります。
<p>&nbsp;</p>
<img src="img/Tool01a.jpg" width="80%"/>
<p>図Tool01a</p>
<p>&nbsp;</p>
　ここで、まず<b>基準ディレクトリ</b>を<b>mediaディレクトリ内</b>の<b>FBXが含まれるディレクトリ</b>を記述してください。<br />
　続いて、<b>Fbxファイル名</b>を記述してください。<br />
　記述したら表示用のスケーリングを記述してください（デフォルト1.0になっています）。<br />
　以下の例では、<b>Sample308のChara_R.fbx</b>をコピーしてきて表示させたものです。
<p>&nbsp;</p>
<img src="img/Tool01b.jpg" width="80%"/>
<p>図Tool01b</p>
<p>&nbsp;</p>
　コントローラを使用すると、後方からも見ることができます。<b>Sample308のChara_R.fbx</b>はスキンメッシュですが、ご覧のように<b>Tポーズ</b>をしたスタティックメッシュとして表示します。<br/>
　<b>Sample308のChara_R.fbx</b>はサイズが大きいので、<b>スケーリングを0.02</b>で読み込みます。<br />
<br />
<h4>データの保存</h4>
　データの保存は、デフォルトの状態でよいなら、<b>データ保存</b>をクリックします。保存に成功すると、
<p>&nbsp;</p>
<img src="img/Tool01c.jpg" width="40%"/>
<p>図Tool01c</p>
<p>&nbsp;</p>
　のようなダイアログが出ます。<br />
　単純ですが、これだけです。<b>mediaディレクトリのFBXのディレクトリ</b>を見ますと<b>Chara_R.bin</b>ができているのがわかります。<br />
　この項で作成したデータは<b>DxBase2015Simple/Simple06サンプル</b>で実装します。<br />
　こちらのサンプルは、独自のデータフォーマットのモデル（メッシュ）を読み込むサンプルです。<br />
　<b>Fbx2Binツール</b>と比べながら確認してください。<br />
　なお、今項では、コード説明は省略いたします。<b>DxBase2015Simple/Simple06サンプル</b>の説明を参照してください。<br />
　またMFCの扱いに慣れてないと、最初は理解しにくいかもしれませんが、慣れてくると、MFCは非常に使いやすいライブラリであることがわかると思います。
<br />
</div>
<!-- /コンテンツ　-->
<hr>
<!-- フッタ　-->
<ul class="foot_navi">
<li><a href="index.html">目次</a></li>
</ul>
<!-- /フッタ　-->


</div>
<!-- /全体コンテナ　-->
</body>
</html>
